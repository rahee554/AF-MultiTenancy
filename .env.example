# AF-MultiTenancy Package Environment Variables

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="My Multi-Tenant App"
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost
APP_DOMAIN=localhost

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=af_multitenancy
DB_USERNAME=root
DB_PASSWORD=

# =============================================================================
# TENANT DATABASE SETTINGS
# =============================================================================
TENANT_DB_PREFIX=tenant_
TENANT_DB_CONNECTION=mysql
TENANT_DB_CHARSET=utf8mb4
TENANT_DB_COLLATION=utf8mb4_unicode_ci
TENANT_AUTO_MIGRATE=false
TENANT_AUTO_SEED=false

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_DRIVER=database
TENANT_CACHE_DRIVER=database
TENANT_CACHE_PREFIX=tenant_
TENANT_CACHE_TTL=3600

# For Redis cache (optional)
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# =============================================================================
# TENANT REDIS SETTINGS (Optional)
# =============================================================================
TENANT_REDIS_PER_DATABASE=false
TENANT_REDIS_DATABASE_OFFSET=10
TENANT_REDIS_PREFIX_PATTERN=tenant_{tenant_id}_
TENANT_REDIS_CENTRAL_PREFIX=central_

# =============================================================================
# TENANCY CORE SETTINGS
# =============================================================================
TENANCY_EARLY_IDENTIFICATION=true
TENANCY_CACHED_LOOKUP=true
TENANCY_CACHE_STORE=database
TENANCY_CACHE_TTL=3600
TENANCY_CACHE_PREFIX=tenancy_lookup

# Domain handling
UNKNOWN_DOMAIN_ACTION=central
UNKNOWN_DOMAIN_REDIRECT=/

# =============================================================================
# TENANT MAINTENANCE MODE
# =============================================================================
TENANCY_MAINTENANCE_MODE_ENABLED=true
TENANCY_MAINTENANCE_CACHE_TTL=3600
TENANCY_MAINTENANCE_DEFAULT_MESSAGE="We're performing maintenance. Please check back soon!"
TENANCY_MAINTENANCE_REFRESH_INTERVAL=30
TENANCY_MAINTENANCE_ALLOWED_IPS="127.0.0.1,::1"
TENANCY_MAINTENANCE_BYPASS_KEY=secret

# =============================================================================
# TENANT HOMEPAGE SETTINGS
# =============================================================================
TENANT_HOMEPAGE_ENABLED=true
TENANT_HOMEPAGE_VIEW_PATH=tenants
TENANT_HOMEPAGE_AUTO_CREATE_DIR=true
TENANT_HOMEPAGE_FALLBACK_REDIRECT=/login

# =============================================================================
# FASTPANEL INTEGRATION (Production)
# =============================================================================
FASTPANEL_ENABLED=false
FASTPANEL_CLI_PATH=/usr/local/fastpanel2/fastpanel
FASTPANEL_AUTO_CREATE_DATABASE=true
FASTPANEL_AUTO_CREATE_USER=true

# =============================================================================
# API CONFIGURATION
# =============================================================================
TENANT_API_KEY=
TENANT_API_NO_AUTH=false
TENANT_API_ALLOW_LOCALHOST=true
TENANT_API_RATE_LIMIT=true
TENANT_API_RATE_LIMIT_ATTEMPTS=60
TENANT_API_RATE_LIMIT_DECAY=1

# =============================================================================
# MONITORING & PERFORMANCE
# =============================================================================
TENANT_MONITORING_ENABLED=true
TENANT_MONITORING_PERFORMANCE=true
TENANT_SLOW_QUERY_THRESHOLD=1000
TENANT_MEMORY_LIMIT_WARNING=128

# =============================================================================
# HEALTH CHECK SETTINGS
# =============================================================================
TENANT_HEALTH_CHECK_ENABLED=true
TENANT_HEALTH_CHECK_TIMEOUT=30

# =============================================================================
# SESSION & QUEUE CONFIGURATION
# =============================================================================
SESSION_DRIVER=database
SESSION_LIFETIME=120
QUEUE_CONNECTION=database

# =============================================================================
# MAIL CONFIGURATION
# =============================================================================
MAIL_MAILER=smtp
MAIL_HOST=mailpit
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

# =============================================================================
# BROADCASTING (Optional)
# =============================================================================
BROADCAST_DRIVER=log
PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_HOST=
PUSHER_PORT=443
PUSHER_SCHEME=https
PUSHER_APP_CLUSTER=mt1

# =============================================================================
# LOGGING
# =============================================================================
LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# =============================================================================
# VITE ASSETS (Development)
# =============================================================================
VITE_APP_NAME="${APP_NAME}"
VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_HOST="${PUSHER_HOST}"
VITE_PUSHER_PORT="${PUSHER_PORT}"
VITE_PUSHER_SCHEME="${PUSHER_SCHEME}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# Redis Configuration (only if CACHE_DRIVER=redis)
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379
REDIS_DB=0

# =================================================
# TENANCY PERFORMANCE SETTINGS
# =================================================

# Enable/disable tenant connection caching
TENANT_CONNECTION_CACHING=true

# Cache TTL for tenant lookups (in seconds)
TENANT_CACHE_TTL=3600

# Max tenant connections to maintain in pool
TENANT_MAX_CONNECTIONS=10

# =================================================
# API CONFIGURATION
# =================================================

# API key for testing endpoints (generate a secure random string)
API_KEY=your_secure_api_key_here

# Base URL for your application
APP_URL=http://localhost

# API rate limiting (requests per minute)
API_RATE_LIMIT=60

# =================================================
# TESTING CONFIGURATION
# =================================================

# Enable/disable automatic test tenant creation
AUTO_CREATE_TEST_TENANTS=true

# Number of test tenants to create for performance testing
TEST_TENANT_COUNT=5

# Test database prefix
TEST_DB_PREFIX=test_tenant_

# =================================================
# BACKUP & RESTORE CONFIGURATION
# =================================================

# Enable/disable backup functionality
TENANT_BACKUP_ENABLED=true

# Default compression for backups
TENANT_BACKUP_COMPRESS=true

# Backup retention in days
TENANT_BACKUP_RETENTION_DAYS=30

# Backup storage disk (should match config/filesystems.php)
TENANT_BACKUP_DISK=tenant-backups

# MySQL binary paths (adjust for your system)
TENANT_BACKUP_MYSQLDUMP_PATH=mysqldump
TENANT_BACKUP_MYSQL_PATH=mysql

# Backup options
TENANT_BACKUP_INCLUDE_ROUTINES=true
TENANT_BACKUP_INCLUDE_TRIGGERS=true
TENANT_BACKUP_INCLUDE_EVENTS=true

# Auto-backup scheduling (if using Laravel scheduler)
TENANT_BACKUP_AUTO_SCHEDULE=false
TENANT_BACKUP_AUTO_FREQUENCY=daily

# Maximum backup file size (in MB, 0 = unlimited)
TENANT_BACKUP_MAX_SIZE=0

# =================================================
# LOGGING CONFIGURATION
# =================================================

# Log channel for tenancy operations
TENANCY_LOG_CHANNEL=single

# Log level for tenancy operations (debug, info, warning, error)
TENANCY_LOG_LEVEL=info

# Enable/disable performance logging
TENANCY_PERFORMANCE_LOGGING=true

# =================================================
# QUEUE CONFIGURATION
# =================================================

# Queue driver for tenant operations
QUEUE_CONNECTION=sync

# Queue for tenant migration jobs
TENANT_MIGRATION_QUEUE=default

# Queue for tenant seeding jobs
TENANT_SEEDING_QUEUE=default
